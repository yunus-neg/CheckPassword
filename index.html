<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.min.css" media="screen,projection" />
  <link rel="stylesheet" href="assets/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <title>Document</title>

</head>

<body class="grey lighten-3">
  <div class="container">
    <center>

      <h1>Password Checker</h1>
      <div class="row">
        <div class="col m12">
          <div class="col m12">
            <input type="password" id="PasswordField" placeholder="password">
          </div>


        </div>
      </div>
      <div class="row">
        <div class="col m12">
          <div class="card-panel teal lighten-4">
            <div class="row">
              <div class="switch col m6">
                <h5>Show Password</h5>
                <label>
                  Off
                  <input type="checkbox" onclick="showPassword()">
                  <span class="lever"></span>
                  On
                </label>
              </div>
              <div class="row">
                <div class="col m6">
                  <a class="waves-effect waves-light btn-large modal-trigger top" href="#modal1">Encryption</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <div class="progress">
        <div class="determinate" id='progressBar' style="width: 0%"></div>
      </div>

      <h5 id="PasswordStrength">Password Strength: 0</h5>

      <div class="row">
        <div class="col m12">
          <div class="teal col m4 card small">
            <h5 id="Digit">Digits: 0</h5>
            <h5 id="LowerCaseLetter">lower case letteres: 0</h5>
            <h5 id="UpperCaseLetter">Upper case letteres: 0</h5>
            <h5 id="SpecialCharacter">Special Characteres: 0</h5>
            <h5 id="PasswordLength">Password length: 0</h5>
          </div>

          <div class=" orange col m4 card small" id="WarningBox" hidden>
            <h5 id="Warning">Warnings</h5>
            <h5 id="CommonPassword"></h5>
          </div>
          <div class=" cyan col m4 push-m4 card small" id="suggestedPasswordBox">
            <h5>suggested Password <a href="#"><i class="material-icons" onclick="suggestingPassword()" style="color: black">refresh</i> </a></h5>
            <h6 id="suggestedPassword"></h6>

          </div>
        </div>
      </div>
      <!-- Modal Trigger -->

      <!-- Modal Structure -->
      <div id="modal1" class="modal modal-fixed-footer">
        <div class="modal-content">

          <h2>Encryption</h2>
          <!-- AES row -->
          <div class="row">
            <div>
              <h4>AES</h4>
              <pre id="aes-output" class="card-panel grey lighten-3"></pre>
            </div>
          </div>
          <!-- DES row -->
          <div class="row">
            <div>
              <h4>DES</h4>
              <pre id="des-output" class="card-panel grey lighten-3"></pre>
            </div>
          </div>
          <br>
          <h2>hashing</h2>
          <!-- MD5 row -->
          <div class="row">
            <div class="">
              <h4 class="">MD5</h4>
              <pre id="md5-output" class="card-panel grey lighten-3"></pre>
            </div>
          </div>

          <!-- SHA-1 row -->
          <div class="row">
            <div class="">
              <h4 class="">SHA-1</h4>
              <pre id="sha1-output" class="card-panel grey lighten-3"> </pre>
            </div>
          </div>

          <!-- SHA-256 row -->
          <div class="row">
            <div class="">
              <h4 class="">SHA-256</h4>
              <pre id="sha256-output" class="card-panel grey lighten-3"> </pre>
            </div>
          </div>

          <!-- SHA-512 row -->
          <div class="row">
            <div class="">
              <h4 class="">SHA-512</h4>
              <pre id="sha512-output" class="card-panel grey lighten-3"> </pre>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>
        </div>
      </div>
    </center>
  </div>

  <script>
    if (typeof module === 'object') {
      window.module = module;
      module = undefined;
    }
  </script>
  <script type="text/javascript" src="node_modules/materialize-css/dist/js/materialize.js"></script>
  <script sre="node_modules\jquery\dist\jquery.min.js"></script>
  <script src="index.js"></script>
  <script>
    function showPassword() {
      var x = document.getElementById("PasswordField");
      if (x.type === "password") {
        x.type = "text";
      } else {
        x.type = "password";
      };
    };


    //     $(document).ready(function(){
    //   // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
    //   $('.modal').modal();
    // });

    $('.modal').modal({
      dismissible: true, // Modal can be dismissed by clicking outside of the modal
      opacity: .5, // Opacity of modal background
      inDuration: 300, // Transition in duration
      outDuration: 200, // Transition out duration
      startingTop: '10%', // Starting top style attribute
      endingTop: '10%', // Ending top style attribute
      ready: function(modal, trigger) { // Callback for Modal open. Modal and trigger parameters available.
      },
    });

    $(() => {
      const crypto = require('crypto')
      $('#PasswordField').bind('input propertychange', function() {
        const text = this.value;
        const key = 'qassim university';

        // Encryption
        const aes256 = crypto.createCipher('aes-256-ctr', key).update(text, 'utf8', 'hex')
        $('#aes-output').text(aes256)

        const des3 = crypto.createCipher('des3', key).update(text, 'utf8', 'hex')
        $('#des-output').text(des3)

        // Hashing
        const md5 = crypto.createHash('md5').update(text, 'utf8').digest('hex')
        $('#md5-output').text(md5)

        const sha1 = crypto.createHash('sha1').update(text, 'utf8').digest('hex')
        $('#sha1-output').text(sha1)

        const sha256 = crypto.createHash('sha256').update(text, 'utf8').digest('hex')
        $('#sha256-output').text(sha256)

        const sha512 = crypto.createHash('sha512').update(text, 'utf8').digest('hex')
        $('#sha512-output').text(sha512)


      })

    })
  </script>
</body>

</html>
