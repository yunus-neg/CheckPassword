<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.min.css" media="screen,projection" />
  <link rel="stylesheet" href="assets/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

</head>

<body class="grey lighten-3">
  <div class="container">
    <center>
      <h1>PassWord Checker</h1>
      <div class="row">
        <div class="col m12">
          <div class="col m8">
            <input type="password" id="PasswordField" pattern="[0-9]" placeholder="password">
          </div>
          <div class="col m4">
            <a class="waves-effect waves-light btn-large top" onclick='checkPassword()'>Check Password</a>
          </div>

        </div>
      </div>
      <div class="row">
        <div class="col m12">
          <div class="card-panel teal lighten-4">
            <div class="row">
              <div class="switch col m6">
                <h5>Show Password</h5>
                <label>
                  Off
                  <input type="checkbox" onclick="showPassword()">
                  <span class="lever"></span>
                  On
                </label>
              </div>
              <div class="row">
                <div class="col m6">
                  <a class="waves-effect waves-light btn-large modal-trigger top" href="#modal1">Encrypte</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <div class="progress">
        <div class="determinate" id='progressBar' style="width: 0%"></div>
      </div>

      <h5 id="PasswordStrength">Password Strength: 0</h5>

      <div class="row">
        <div class="col m12">
          <div class="teal col m4 card small">
            <h5 id="Digit">Digits:</h5>
            <h5 id="LowerCaseLetter">lower case letteres:</h5>
            <h5 id="UpperCaseLetter">Upper case letteres:</h5>
            <h5 id="SpecialCharacter">Special Characteres:</h5>
            <h5 id="PasswordLength">Password length:</h5>
          </div>

          <div class=" orange col m4 card small" id="WarningBox" hidden>
            <h5 id="Warning">Warnings</h5>
            <h5 id="CommonPassword"></h5>
          </div>
          <div class=" orange col m4 push-m4 card small" id="suggestedPasswordBox">
            <h5>suggested Password</h5>
            <h6 id="suggestedPassword"></h6>

          </div>
        </div>
      </div>
      <!-- Modal Trigger -->

      <!-- Modal Structure -->
      <div id="modal1" class="modal modal-fixed-footer">
        <div class="modal-content">


          <!-- MD5 row -->
          <div class="row">
            <div class="">
              <h4 class="hash-heading">MD5</h4>
              <pre id="md5-output" class="hash-output"> </pre>
            </div>
          </div>

          <!-- SHA-1 row -->
          <div class="row">
            <div class="">
              <h4 class="hash-heading">SHA-1</h4>
              <pre id="sha1-output" class="hash-output"> </pre>
            </div>
          </div>

          <!-- SHA-256 row -->
          <div class="row">
            <div class="">
              <h4 class="hash-heading">SHA-256</h4>
              <pre id="sha256-output" class="hash-output"> </pre>
            </div>
          </div>

          <!-- SHA-512 row -->
          <div class="row">
            <div class="">
              <h4 class="hash-heading">SHA-512</h4>
              <pre id="sha512-output" class="hash-output"> </pre>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>
        </div>
      </div>
    </center>
  </div>
  <script>if (typeof module === 'object') { window.module = module; module = undefined; }</script>
  <script type="text/javascript" src="node_modules/materialize-css/dist/js/materialize.js"></script>
  <script sre="node_modules\jquery\dist\jquery.min.js"></script>
  <script src="index.js"></script>
  <script>
    function showPassword() {
      var x = document.getElementById("PasswordField");
      if (x.type === "password") {
        x.type = "text";
      } else {
        x.type = "password";
      };
    };

    function checkPassword() {
      calculatePasswordStrength(document.getElementById("PasswordField").value);
    };

    //     $(document).ready(function(){
    //   // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
    //   $('.modal').modal();
    // });

    $('.modal').modal({
      dismissible: true, // Modal can be dismissed by clicking outside of the modal
      opacity: .5, // Opacity of modal background
      inDuration: 300, // Transition in duration
      outDuration: 200, // Transition out duration
      startingTop: '0%', // Starting top style attribute
      endingTop: '00%', // Ending top style attribute
      ready: function (modal, trigger) { // Callback for Modal open. Modal and trigger parameters available.
      },
    }
    );

    $(() => {
      const crypto = require('crypto')

      $('#PasswordField').bind('input propertychange', function () {
        const text = this.value



        const md5 = crypto.createHash('md5').update(text, 'utf8').digest('hex')
        $('#md5-output').text(md5)

        const sha1 = crypto.createHash('sha1').update(text, 'utf8').digest('hex')
        $('#sha1-output').text(sha1)

        const sha256 = crypto.createHash('sha256').update(text, 'utf8').digest('hex')
        $('#sha256-output').text(sha256)

        const sha512 = crypto.createHash('sha512').update(text, 'utf8').digest('hex')
        $('#sha512-output').text(sha512)
      })

    })



  </script>
</body>

</html>